@model ECommerce.Models.ProductUpdateModel
@{
    ViewBag.Title = "UpdateProduct";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="container-fluid">
    <h1 class="mt-4">Tables</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item">Dashboard</li>
        <li class="breadcrumb-item">Products</li>
        <li class="breadcrumb-item active">Edit Product</li>
    </ol>
    <div class="card-header">
        <i class="fas fa-table mr-1"></i>
        Edit Product
    </div>
    <div class="card mb-4">
        <div class="card-body">
            @using (Html.BeginForm("UpdateProduct", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {

                @Html.AntiForgeryToken()

                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.ProductId)
                @Html.HiddenFor(model => model.OldFile)
                <div class="form-group">
                    <label class="control-label">Name</label>
                    @Html.EditorFor(model => model.ProductName, new { @class = "form-control", placeholder = "Product Name", required = "required", autofocus = "autofocus" })
                    @Html.ValidationMessageFor(model => model.ProductName, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label class="control-label">Barcode</label>
                    @Html.EditorFor(x => x.Barcode, new { @class = "form-control", placeholder = "Product Barcode", required = "required" })
                    @Html.ValidationMessageFor(model => model.Barcode, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label class="control-label">Description</label>
                    @Html.EditorFor(x => x.Description, new { @class = "form-control", placeholder = "Product Description", required = "required" })
                    @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label class="control-label">Price</label>
                    @Html.EditorFor(x => x.Price, new { @class = "form-control", placeholder = "Product Price", required = "required" })
                    @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label class="control-label">Total in Stock</label>
                    @Html.EditorFor(x => x.ProductCount, new { @class = "form-control", placeholder = "Product Stock", required = "required" })
                    @Html.ValidationMessageFor(model => model.ProductCount, "", new { @class = "text-danger" })
                </div>
                <div class="form-group">
                    <label class="control-label">Product Image</label>
                    <img src="@Url.Action("ProductImage", new { productId = Model.ProductId})" width="100" height="100" />
                    @Html.TextBoxFor(x => x.UploadedFile, new { @class = "form-control", placeholder = "Product Image", type = "file" })
                    @Html.ValidationMessageFor(x => x.UploadedFile, "", new { @class = "text-danger" })
                </div>

                <a href=@Url.Action("Products") class="btn btn-danger">Back</a>
                <input type="submit" class="btn btn-primary" value="Submit" />
            }

        </div>
    </div>
</div>

